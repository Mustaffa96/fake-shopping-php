write code in clean and optimized method